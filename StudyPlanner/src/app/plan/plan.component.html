<main class="container">
  <section class="summary">
    <h2>Il tuo Piano di Studi</h2>
    <p>CFU Totali: <strong>{{ cfuTotali }}</strong> / 60</p>
    <p>Esami selezionati: <strong>{{ esamiSelezionati.length }}</strong></p>
  </section>

  <section class="study-plan">
    <h3>Seleziona gli esami</h3>
    <form (submit)="salvaPiano($event)">
    <section class = "search">
      <input type="text" placeholder="Cerca esame per codice o nome esame..."(input)="onSearch($event)"/>
    </section>
    
      @for (esame of esamiFiltrati; track esame.codice) {
        <div class="course">
          <label>
            <input
              type="checkbox"
              [checked]="esame.selezionato"
              (change)="aggiornaSelezione($event, esame.codice)"
              name="{{ esame.codice }}"
            />
            {{ esame.codice }} - {{ esame.nome }} ({{ esame.cfu }} CFU)
          </label>
          @if (esame.note) {
            <p class="note">{{ esame.note }}</p>
          }
        </div>
      }

      <button type="submit">Salva Piano Studi</button>
    </form>
  </section>
</main>
